<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Introduction to the common navigator framework</title>
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="/css/syntax.min.css">
        <script src="/css/jquery.min.js"></script>
        <link rel="stylesheet" href="/css/bootstrap.min.css">
		<link rel="stylesheet" href="/css/bootstrap-theme.min.css">		
		<script src="/css/bootstrap.min.js"></script>
		<link href="/css/additional.min.css" rel="stylesheet">
		<link rel="stylesheet" href="http://yandex.st/highlightjs/7.4/styles/default.min.css">
		<script src="http://yandex.st/highlightjs/7.4/highlight.min.js"></script>
		<link rel="alternate" type="application/rss+xml" title="AndyDunkel.net RSS Feed" href="http://andydunkel.net/rss.xml" /> 
    </head>
    <body>
    
    <div class="container">
    	<div class="col-md-4">
	    	<a href="/index.html">
    			<img src="/assets/logo.png" alt="logo" width="300" height="113">
    		</a>
    	</div>
    	<div class="col-md-8" style="padding:20px">
			<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			<!-- eKiwiTop -->
			<ins class="adsbygoogle"
			     style="display:inline-block;width:728px;height:90px"
			     data-ad-client="ca-pub-1137550895446814"
			     data-ad-slot="2555817477"></ins>
			<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
			</script> 		
    	</div>
    </div>

    <!-- Fixed navbar -->
    <div class="navbar navbar-default">
      <div class="container">
	     
        <div class="navbar-header">	
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          
          <a class="navbar-brand" href="/index.html">Home</a>
        </div>
       
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/blog.html">Blog</a></li>
            
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projekte <b class="caret"></b></a>
              <ul class="dropdown-menu">
	            <li class="dropdown-header">Webseiten</li>
                <li><a href="http://ekiwi.de">eKiwi.de</a></li>
                <li><a href="http://acapio.de">Acapio.de</a></li>
                <li><a href="http://da-software.de">DA-Software.de</a></li>
                <li class="divider"></li>
	            <li class="dropdown-header">Blogs</li>
				<li><a href="http://blog.ekiwi.de">eKiwi Blog</a></li>
				
				<li class="divider"></li>
	            <li class="dropdown-header">Sonstiges</li>
				<li><a href="/documents.html">Dokumente</a></li>
              </ul>
            </li>
            
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Software <b class="caret"></b></a>
              <ul class="dropdown-menu">
	            <li class="dropdown-header">OpenSource</li>  
	            <li><a href="https://github.com/andydunkel?tab=repositories">GitHub Projekte</a></li>
	            <li class="divider"></li>
	            <li class="dropdown-header">Kommerzielle Software</li>
                <li><a href="http://da-software.de/daform/daform_start.htm">DA-FormMaker</a></li>
                <li><a href="http://da-software.de/dabestell/index.htm">DA-BestellFormular</a></li>
                <li><a href="http://da-software.de/daquiz/index.htm">DA-QuizMaker</a></li>
                <li><a href="http://da-software.de/dahtaccess/dahtaccess_start.htm">DA-HtAccessManager</a></li>
                
              </ul>
            </li>
            
            <li><a href="/about.html">Pers√∂nliches</a></li>
            <li><a href="/contact.html">Kontakt</a></li>            
            <li><a href="/imprint.html">Impressum</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
          	<li>
          	<form action="http://www.google.de" id="cse-search-box" class="navbar-form navbar-left" role="search">
			  <div class="form-group">
			    <input type="hidden" name="cx" value="partner-pub-1137550895446814:8857383477" />
			    <input type="hidden" name="ie" value="UTF-8" />
			    <input type="text" name="q" size="20" class="form-control"/>
			  </div>
			    <input type="submit" name="sa" value="Search" class="btn btn-default"/>			
			  </form>
				<script type="text/javascript" src="http://www.google.de/coop/cse/brand?form=cse-search-box&amp;lang=de"></script>
          	</li>            
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">

        <div class="row">
    	<div class="col-md-9">

			<h2>Introduction to the common navigator framework</h2>
			<p class="meta">24 May 2014</p>
			
			<div class="post">
			<p>The common navigator framework is one of the more complex things in Eclipse RCP. This article describes how to get started with the common navigator framework (CNF). So its just the basic stuff to get started and play around more on your own.</p>

<p>Enough <a href="http://youtu.be/oHoeXFbc1PA?t=10s">chitchat</a>, lets get started.</p>

<h2>Creating the view</h2>

<p>The first step is to create a demo application where you can put the CNF view. Use the RCP sample application with a view. After you created the demo project, add the <code>org.eclipse.ui.navigator</code> plugin to the manifest.</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/cnf/cnf1.png" alt=""></p>

<p>The next step is to add the view to the project by adding it to the <code>org.eclipse.ui.views</code> extension point.</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/cnf/cnf2.png" alt=""></p>

<p>Enter the ID, a name and create a new class, subclassing the <code>CommonNavigator</code> class. In the example this class is named <code>MyNavigator</code>.</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/cnf/cnf3.png" alt=""></p>

<p>After thats done, add the view to the perspective, either by plugin.xml or in code.</p>

<h2>Data classes</h2>

<p>To show something in the tree, create some data classes: The first is our node we want to show. Also create a new bean class, named <a href="https://github.com/andydunkel/RCP-Demo-Application/blob/master/com.da.editor/src/com/da/editor/cnf/ParentNode.java">ParentNode</a>  with a &quot;name&quot; attribute.</p>

<p>After that, create a class named <a href="https://github.com/andydunkel/RCP-Demo-Application/blob/master/com.da.editor/src/com/da/editor/cnf/NavigatorRoot.java">NavigatorRoot</a>. This will serve as root node in the navigator. The root does not appear in the view itself. The class must implement the IAdaptable interface. To achieve that easily, just extend the <code>PlatformObject</code> class.</p>

<p>After that, add the following method to the <code>NavigatorRoot</code> class:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">public Set&lt;ParentNode&gt; getParentNodes() {                   
    ParentNode node = new ParentNode();
    node.setName(&quot;Hello World&quot;);

    ParentNode node2 = new ParentNode();
    node2.setName(&quot;Hallo Welt&quot;);

    Set&lt;ParentNode&gt; list = new HashSet&lt;ParentNode&gt;();
    list.add(node);     
    list.add(node2);        
    return list;
}   
</code></pre></div>
<p>This just creates and returns two nodes, which should show up in the navigator later.</p>

<p>The last step is to add the data to the MyNavigator class we created before:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">@Override
protected Object getInitialInput() {
    return new NavigatorRoot();
}
</code></pre></div>
<p>Usually you would not statically set the input like in the example, but thats just an example to get it working.</p>

<h2>Plugin.xml</h2>

<p>Now there are some things to do in the <code>plugin.xml</code> file. The first thing is to add an <code>org.eclipse.ui.navigator.navigatorContent</code> extension point.</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/cnf/cnf4.png" alt=""></p>

<p>Enter an ID and a name and create a contentProvider and labelProvider for the extension point, by clicking on the links in the plugin.xml editor.</p>

<p>The label and content providers need some basic coding now. The content provider takes a <code>NavigatorRoot</code> object as input and should return an array ouf our <code>ParentNode</code> objects. The label provider takes the <code>ParentNode</code> as input and return its name property (<a href="https://github.com/andydunkel/RCP-Demo-Application/tree/master/com.da.editor/src/com/da/editor/cnf">see here for code</a>). </p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/cnf/cnf5.png" alt=""></p>

<p>In the next step, define the triggerPoints which define when the content should appear. Add a <code>triggerPoints</code> to the <code>navigatorContent</code> extension point we created before. When done add a <code>instanceof</code> element and enter the name of the <code>NavigatorRoot</code> class. The result should look like that: </p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/cnf/cnf6.png" alt=""></p>

<p>In the last step, add an <code>org.eclipse.ui.navigator.viewer</code> extension point:</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/cnf/cnf7.png" alt=""></p>

<p>The extension point registers the view as the navigator view and binds the content to it. First create the <code>viewer</code> element, then the <code>viewerContentBinding</code>. Enter the view id here again. Add an <code>includes</code> element, which well, includes the <code>navigatorContent</code> as <code>contentExtension.</code> In the pattern field, enter the id of the <code>navigatorContent</code> we created above.</p>

<h2>Launching the application</h2>

<p>Once all is done and the application is launched, you should now see the content in the navigator tree:</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/cnf/cnf8.png" alt=""></p>

<p>Since a lot of steps are required, especially in the <code>plugin.xml</code>, its most likely that the content will not show up. In that case check your code and the xml files for typos. </p>

<p>Well thats it. As you can see its a lot of work to get even that basic example working. In my personal opinion: think before using the CNF framework and only use it when you really need all the functionality.</p>

<h2>Code</h2>

<p>The code for the example can be found on <a href="https://github.com/andydunkel/RCP-Demo-Application">GitHub</a>.</p>

			</div>
			
			<script type="text/javascript"><!--
			google_ad_client = "ca-pub-1137550895446814";
			/* 468x60, Erstellt 21.03.09 */
			google_ad_slot = "2357680339";
			google_ad_width = 468;
			google_ad_height = 60;
			//-->
			</script>
			<script type="text/javascript"
			src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
			</script>
    	</div>
    	
    	<div class="col-md-3" align="center">  
    		<div class="panel panel-default sideBarTop">    			
	    		<script id='fb7sm2s'>(function(i){var f,s=document.getElementById(i);f=document.createElement('iframe');f.src='//api.flattr.com/button/view/?uid=mengenleere&button=compact&url='+encodeURIComponent(document.URL);f.title='Flattr';f.height=20;f.width=110;f.style.borderWidth=0;s.parentNode.insertBefore(f,s);})('fb7sm2s');</script>    		
    		</div>
    	  	
    		<div class="panel panel-default">
	    		<div class="panel-body">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
				<!-- Seitenleiste -->
				<ins class="adsbygoogle"
				     style="display:inline-block;width:160px;height:600px"
				     data-ad-client="ca-pub-1137550895446814"
				     data-ad-slot="1909195079"></ins>
				<script>
				(adsbygoogle = window.adsbygoogle || []).push({});
				</script>		    	
	    		</div>
    		</div>
    	</div>    	
    	
    </div>			

<hr>

<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'andydunkelnet'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>
    
<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);

  (function() {
    var u=(("https:" == document.location.protocol) ? "https" : "http") + "://piwik.ekiwi.de/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "2"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
    g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Piwik Code -->

    </body>
</html>
