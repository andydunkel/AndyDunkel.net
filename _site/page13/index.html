<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>AndyDunkel.net</title>
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="/css/syntax.min.css">
        <script src="/css/jquery.min.js"></script>
        <link rel="stylesheet" href="/css/bootstrap.min.css">
		<link rel="stylesheet" href="/css/bootstrap-theme.min.css">		
		<script src="/css/bootstrap.min.js"></script>
		<link href="/css/additional.min.css" rel="stylesheet">
		<link rel="alternate" type="application/rss+xml" title="AndyDunkel.net RSS Feed" href="http://andydunkel.net/rss.xml" /> 
		
		<!-- Begin Cookie Consent plugin by Silktide - http://silktide.com/cookieconsent -->
	    <script type="text/javascript">
		    window.cookieconsent_options = {"message":"Wir verwenden Cookies auf der Website, um Ihren Besuch effizienter zu machen und Ihnen Benutzerfreundlichkeit bieten zu können.","dismiss":"OK","learnMore":"Mehr Informationen","link":"http://ekiwi.de/datenschutzerklaerung.htm","theme":"light-bottom"};
		</script>
		
		<script type="text/javascript" src="http://www.andydunkel.net/css/cookieconsent/cookieconsent.min.js"></script>
		<!-- End Cookie Consent plugin -->
		
    </head>
    <body>
    
    <div class="container">
    	<div class="col-md-4">
	    	<a href="/index.html">
    			<img src="/assets/logo.png" alt="logo" width="300" height="113">
    		</a>
    	</div>
    	<div class="col-md-8" style="padding:20px">
			<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			<!-- eKiwiTop -->
			<ins class="adsbygoogle"
			     style="display:inline-block;width:728px;height:90px"
			     data-ad-client="ca-pub-1137550895446814"
			     data-ad-slot="2555817477"></ins>
			<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
			</script> 		
    	</div>
    </div>

    <!-- Fixed navbar -->
    <div class="navbar navbar-default">
      <div class="container">
	     
        <div class="navbar-header">	
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          
          <a class="navbar-brand" href="/index.html">Home</a>
        </div>
       
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/blog.html">Blog</a></li>
            
            <li class="dropdown">
              <a href="/projects.html" class="dropdown-toggle" data-toggle="dropdown">Projekte <b class="caret"></b></a>
              <ul class="dropdown-menu">
	            <li class="dropdown-header">Webseiten</li>
                <li><a href="http://ekiwi.de">eKiwi.de</a></li>
                <li><a href="http://acapio.de">Acapio.de</a></li>
                <li><a href="http://da-software.de">DA-Software.de</a></li>
                <li><a href="http://eltexto.net">ElTexto</a></li>
                <li class="divider"></li>
	               <li class="dropdown-header">Blogs</li>
				        <li><a href="http://ekiwi-blog.de">eKiwi Blog</a></li>				
                <li class="divider"></li>
                <li class="dropdown-header">Sonstiges</li>
                <li><a href="/documents.html">Dokumente</a></li>
               </ul>
            </li>           
            
            <li class="dropdown">
              <a href="/software.html" class="dropdown-toggle" data-toggle="dropdown">Software <b class="caret"></b></a>
              <ul class="dropdown-menu">
	            <li class="dropdown-header">OpenSource</li>  
	            <li><a href="https://github.com/andydunkel?tab=repositories">GitHub Projekte</a></li>
	            <li class="divider"></li>
	            <li class="dropdown-header">Kommerzielle Software</li>
	            <li><a href="http://eltexto.net">El Texto</a></li>
                <li><a href="http://da-software.de/daform/daform_start.htm">DA-FormMaker</a></li>
                <li><a href="http://da-software.de/dabestell/index.htm">DA-BestellFormular</a></li>
                <li><a href="http://da-software.de/daquiz/index.htm">DA-QuizMaker</a></li>
                <li><a href="http://da-software.de/dahtaccess/dahtaccess_start.htm">DA-HtAccessManager</a></li>                
              </ul>
            </li>
            
            <li class="dropdown">
              <a href="/guides/index.html" class="dropdown-toggle" data-toggle="dropdown">Anleitungen / Tutorials <b class="caret"></b></a>
              <ul class="dropdown-menu">
	            <li><a href="/guides/repair/index.html">Reparaturanleitungen</a></li>
              <li><a href="/guides/software/index.html">Software</a></li>              
              </ul>
            </li>
                        
            
            <li><a href="/about.html">Persönliches</a></li>
            <li><a href="/contact.html">Kontakt</a></li>            
            <li><a href="/imprint.html">Impressum</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
          	<li>
          	<form action="http://www.google.de" id="cse-search-box" class="navbar-form navbar-left" role="search">
			  <div class="form-group">
			    <input type="hidden" name="cx" value="partner-pub-1137550895446814:8857383477" />
			    <input type="hidden" name="ie" value="UTF-8" />
			    <input type="text" name="q" size="20" class="form-control"/>
			  </div>
			    <input type="submit" name="sa" value="Search" class="btn btn-default"/>			
			  </form>
				<script type="text/javascript" src="http://www.google.de/coop/cse/brand?form=cse-search-box&amp;lang=de"></script>
          	</li>            
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">

    <section>
<h1>Willkommen</h1>

... auf meiner Homepage. Ich schreibe hier über Dinge die mich interessieren. Sprachlich im Mix von Deutsch und English, je nach Themengebiet.

<hr>


<div class="row">
    <div class="col-md-9">
      <h2>Blog Posts</h2>
     
		
		<h1>
		  <a href="/objectivec/coding/xcode/2014/05/04/mapkit_introduction.html">Introduction to MapKit on IOS</a>
		</h1>
		  <p class="small">Posted on 04 May 2014 by Andy</p>
		  <p><p>MapKit offers an easy way to integrate Apple maps into your app. Wether you want to show where your company is located, where the next pub is or track your cats GPS location in an app.</p>

<p>In this tutorial I want to describe how you can add maps to your application. Position, zoom the map and add annotations. </p>

<h2>Create the project</h2>

<p>In XCode create a new project, select iOS and single view application and enter the details for project. Once the project is created. The first thing we are doing, is adding the MapKit to the linked frameworks:</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/mapkit/mapkit_1.png" alt="image"></p>

<p>Otherwise the application will crash instantaneously. Once we have done that, we go to the main storyboard and drag the map view into our view.</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/mapkit/mapkit_2.png" alt="image"></p>

<p>In the properties of the MapView you can configure some basic settings, like showing the users location, activate / deactive zooming, rotating, scrolling etc...</p>

<p>The next step is to create the Outlet for the map view in our application. This can be done using the Assistant editor and CTRL dragging the MKMapView onto the header file and enter a name for the variable:</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/mapkit/mapkit_3.png" alt="image"></p>

<p>We also need to add MapKit to the imports. While we are doing that we also add the map delegate:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#import &lt;MapKit/MapKit.h&gt;

@interface DASViewController : UIViewController &lt;MKMapViewDelegate&gt;
</code></pre></div>
<p>Lets run the app for the first time. It should now display the map.</p>

<h2>Setting the Map Type</h2>

<p>For maps there are three types how to display the map: Standard, Satellite and Hybrid. While you can set these in the properties, you might want the user to be able to choose the type.</p>

<p>For that we are adding a segmented control to the view and CTRL drag an IBAction to our .m file:</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/mapkit/mapkit_4.png" alt="image"></p>

<p>...and implement the action method:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">    - (IBAction)setType:(UISegmentedControl *)sender {
    switch (sender.selectedSegmentIndex) {
        case 0:
            self.mapView.mapType = MKMapTypeStandard;
            break;
        case 1:
            self.mapView.mapType = MKMapTypeSatellite;
            break;
        case 2:
            self.mapView.mapType = MKMapTypeHybrid;
            break;
        default:
            break;
    }
}
</code></pre></div>
<p>When we start the application we are now able to switch between the different map types.</p>

<h2>Zoom to a specific location</h2>

<p>While the map currently defaults to specific position, we now want to set a location / area on our own by default.</p>

<p>To do that, we add the following code to our <code>viewDidLoad</code> method:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">- (void)viewDidLoad
{
    [super viewDidLoad];
    // Create your coordinate
    CLLocationCoordinate2D myCoordinate = {47.879854, 10.641000};

    //set location and zoom level
    MKCoordinateRegion viewRegion = MKCoordinateRegionMakeWithDistance(myCoordinate, 1000, 1000);
    MKCoordinateRegion adjustedRegion = [self.mapView regionThatFits:viewRegion];
    [self.mapView setRegion:adjustedRegion animated:YES];

}
</code></pre></div>
<p>Lets have a look to the details:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">CLLocationCoordinate2D myCoordinate = {47.879854, 10.641000};
</code></pre></div>
<p>Coordinates are longitude and latitude of the position. Best way to find out for a place is Google Maps. The zoom level is adjusted in the following line:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">MKCoordinateRegion viewRegion = MKCoordinateRegionMakeWithDistance(myCoordinate, 1000, 1000);
</code></pre></div>
<p>This is defined in metres, in our case we want to have a 1000 meters zoom level. When we launch the app now, it should default to the given position.</p>

<h2>Add annotation</h2>

<p>The next step for us is to add an annotation to the map. We add the following code to the <code>viewDidLoad</code> method:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"> //Create your annotation
MKPointAnnotation *point = [[MKPointAnnotation alloc] init];
// Set your annotation to point at your coordinate
point.coordinate = myCoordinate;
point.title = @&quot;Andys Home&quot;;

//Drop pin on map
[self.mapView addAnnotation:point];
</code></pre></div>
<p>The code is best added before we do the zoom we did before.</p>

<h3>Remove all annotations</h3>

<p>To remove all annotations from the map:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">for (id annotation in self.mapView.annotations) {
    [self.mapView removeAnnotation:annotation];
}
</code></pre></div>
<h3>Showing the users location</h3>

<p>The last thing we want to do is do something with users location. The users location is only available if the user enabled the function. The user is asked wether he wants to share his location or not, when the function is first called. To enable that in XCode activate &quot;Show Users Location&quot; in the MapViews properties.</p>

<p>Also drop a label on the view and create an outlet for it:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">@property (weak, nonatomic) IBOutlet UILabel *labelPosition;
</code></pre></div>
<p>To update the user location, we are using the delegate we defined in our header file and assign the delegate to the mapView:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">self.mapView.delegate = self;
</code></pre></div>
<p>Now we implement the method for the update:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">-(void)mapView:(MKMapView *)mapView didUpdateUserLocation:(MKUserLocation *)userLocation {

    CLLocationCoordinate2D myCoordinate = {47.879854, 10.641000};
    CLLocationCoordinate2D userCoordinate = [[[self.mapView userLocation]
                                              location] coordinate];

    CLLocation *myLoc = [[CLLocation alloc] initWithLatitude:myCoordinate.latitude
                                                   longitude:myCoordinate.longitude];
    CLLocation *userLoc = [[CLLocation alloc] initWithLatitude:userCoordinate.latitude
                                                     longitude:userCoordinate.longitude];

    CLLocationDistance distance = [myLoc distanceFromLocation:userLoc];

    NSString *labelText = [NSString stringWithFormat:@&quot;%lf km&quot;, distance / 1000];

    [self.labelPosition setText:labelText];
}
</code></pre></div>
<p>The method gets called everytime the user position gets updated. It calculates the distance between the users position and the predefined location. The result is then shown on the label we just dropped on the view:</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/05/mapkit/mapkit_5.png" alt="image"></p>

<h2>The end</h2>

<p>Well thats it for some quickstart with MapKit. You can download the source code of the <a href="http://andydunkel.net/assets/uploads/2014/05/mapkit/MapKitExample.zip">example here</a>.</p>
</p>		
		  <p class="small">Tagged: MapKit by Andy</p>
		  <hr>
		  
		
		<h1>
		  <a href="/meinung/tools/2014/04/18/jekyll-fazit.html">Umstellung auf Jekyll</a>
		</h1>
		  <p class="small">Posted on 18 April 2014 by Andy</p>
		  <p><p>Seit ein paar Monaten verwende <a href="http://jekyllrb.com/">Jekyll</a> für meine Webseite/Blog. Zeit genug um ein Fazit zu ziehen. Als ich meinen Blog startete habe ich klassisch mit Wordpress begonnen.
Da ich damals noch nicht wusste wie weit meine Blogausdauer gehen würde, war das eine gute Lösung. Wordpress ist schnell installiert und recht leicht durch Plugins und Themes anpassbar.  Zugegeben, damals hatte ich mich auch nicht weiter mit Alternativen oder anderen Systemen beschäftigt.</p>

<p>Für einen reinen Blog ist Wordpress gut genug. Aber irgendwann sollte meine Webseite eine Mischung aus Webseite und Blog werden. Wordpress stößt hier, trotz anlegbarer Seiten und Unterseiten, an seine Grenzen. Die Inhalte wandern allesamt in eine MySQL-Datenbank an die man zwar problemlos rankommt, aber irgendwie sind die Inhalte doch darin gefangen.
Designanpassungen erfordern eine Einarbeitung in das Template-System von Wordpress. Spaß, nicht!</p>

<p>Also Alternativen gesucht, bis ich irgendwann auf Jekyll gestoßen bin. Jekyll lässt sich als eine Art Generator für Webseiten und Blogs beschreiben. Statt dynamischer serverseitiger Scriptsprache mit Datenbank und Gedöns, wird das Blog offline erstellt und besteht nur aus Text- und HTML-Dateien. Blogartikel und HTML-Seiten lassen sich sehr leicht als Markdowndatei verfassen.</p>

<p>Jekyll generiert daraus dann die eigentliche Webseite. Diese besteht nur noch aus HTML-Seiten, den Bildern und sonstigen Dateien und wird dann nur noch auf den Server gepackt. Fertig!</p>

<p>Damit die Webseite auch so aussieht wie Webseitenbetreiber sich das wünscht, steht vorher noch eine Anpassung des Templates an.</p>

<p>Da die Webseite nur aus einfachen Textdateien besteht kann diese recht leicht in ein beliebiges Versionierungssystem gepackt werden. Backup der Webseite? Einfach alle Dateien Zippen und fertig.</p>

<h2>Statische Seiten</h2>

<p>Während Wordpress die Seiten beim Aufruf neu erzeugt, ist die Jekyll-Seite nichts weiter als HTML-Seiten. Serverseitig wird daher wenig benötigt: Einfacher Webspace genügt, PHP und Datenbank werden nicht gebraucht. Sicherheitslücken sind bei statischen HTML-Seiten auch kein Thema. Regelmäßige Updates wie bei Wordpress entfallen daher.</p>

<p>Dennoch: Bei größeren Webseiten / Blogs zieht das auch Probleme nach sich. Bei jeder Aktualisierung ändern sich viele, wenn nicht gar alle, HTML-Seiten. Die müssen auf den Webspace transferiert werden.
Geht dies bei Klein-Webseiten noch einfach mit FTP, verkommt es bei größeren Seiten schnell zu einer Langwierigkeit. Da ich Shell-Zugang habe, mache ich hier einen Umweg über Git. Dies funktioniert so: Offline Webseite erstellen, git push auf den Server. Zuletzt wird auf dem Webserver die neue Version abgerufen. Ein Update der Webseite auf dem Server dauert so nur eine knappe Minute.</p>

<p>Dann gibt es Dinge die bei statischen Webseiten nicht gehen: Kommentarfunktion oder Suche sind zwei davon. Beides lässt sich mit externen Diensten nachrüsten, Kommentare mache ich bei Disqus und die Suche übernimmt Google. Allerdings ist mir auch klar, dass ich hier einen Teil meiner Webseite und Daten aus der Hand gebe.</p>

<h2>Installation bis zur Ersten Webseite</h2>

<p>Die Installation ist recht einfach, unter Linux und MacOS (mit Homebrew) ist das mit einer Handvoll Terminalbefehlen erledigt. Unter <a href="http://herbie79.de/development/web/2014/03/22/Running_Jekyll_on_Windows.html">Windows</a> ist der Aufwand etwas höher. Strafe muss sein liebe Windows-Nutzer.</p>

<p>Jetzt beginnt der eigentliche Aufwand. Im Gegensatz zu Wordpress  hieß das: etwas mehr Aufwand hineinstecken bis das Design meinen Wünschen angepasst war. Ein guter Mittelweg war für mich einfach Bootstrap zu verwenden und an meine Bedürfnisse anzupassen.
Im Gegenzug hat man volle Kontrolle über seine Webseite bis in den letzten HTML-Tag.</p>

<p>Wer bereits einen Wordpress oder anderen Blog betreibt wird sich darüber freuen, dass man die Inhalte des alten Blogs übernehmen kann. Hier gibt es entsprechende Konverter.</p>

<h2>Plugins</h2>

<p>Sehr beliebt bei Wordpress, die Plugins. Welche man reichhaltig installiert, ohne sich Gedanken zu machen welche Änderungen diese an der Datenbank vornehmen oder welche Sicherheitslücken mit installiert werden. Natürlich müssen auch diese regelmäßig auf Updates überprüft werden.
Für Jekyll gibt es auch Plugins. Diese kommen in Form von Ruby-Dateien daher, welche einfach in ein Verzeichnis gepackt werden. Macht ein Plugin mal nicht was es soll, kann man es mit etwas Programmierkenntnissen anpassen oder einfach löschen und Webseite neu erstellen. Fertig.</p>

<h2>Bloggen mit Jekyll</h2>

<p>Bloggen geht einfach: Der Blogartikel wird in Markdownsyntax in eine Textdatei (mit einem speziellen Header) geschrieben. 
Etwas umständlicher wird es beim Einbinden von Bildern.</p>

<p>Bei Wordpress verwendete ich nicht das Webinterface sondern einen lokales Programm (MarsEdit). Hier fügt man die Bilder mit Copy &amp; Paste ein. Der Editor kümmert sich dann um die Größenanpassung, Upload und Verlinkung.</p>

<p>Dieser Komfort steht bei Jekyll nicht zur Verfügung. Die Bilder müssen in der richtigen Größe in die Webseite gespeichert und dann von Hand im Artikel verlinkt werden. Kein großer Akt, aber etwas umständlicher.</p>

<h2>Webseiten</h2>

<p>Neben der reinen Blogfunktionalität, wollte ich auch eine Webseite bauen. Auch dafür ist Jekyll geeignet. Ein gemeinsames Menü für die gesamte Webseite? Kein Problem! Einfach im Template anlegen. Beim generieren wird alles automatisch richtig in alle Seiten eingefügt. Das gesamte Design der Webseite ist extrem schnell austauschbar, da alle Unterseiten und Artikel nur den Inhalt enthalten.
Mittlerweile erstelle ich jede neue Webseite, egal ob klein oder groß, schnell in Jekyll.</p>

<h2>Fazit</h2>

<p>Um es kurz zu machen, ich bin sehr zufrieden mit Jekyll. Es gibt ein paar Nachteile, aber die Vorteile überwiegen zumindest für mich. Es war am Anfang etwas aufwändiger alles einzurichten und zu konfigurieren. Dafür habe ich, salopp formuliert, jetzt die Kontrolle über jedes Byte meiner Webseite.
Hat man die diese Hürde genommen, ist die Pflege der Webseite eine Leichtigkeit.
Nachts kann ich ruhig schlafen, um Sicherheitsupdates für die Webseite muss ich mir keine Gedanken mehr machen. Gleiches gilt für Backups. Die Nachteile, wie fehlende Suche oder fehlende Kommentarfunktion lassen sich umgehen.</p>
</p>		
		  <p class="small">Tagged: Jekyll and Webseite by Andy</p>
		  <hr>
		  
		
		<h1>
		  <a href="/delphi/firemonkey/2014/03/05/delphi_and_firemonkey_experience.html">My experiences with Delphi XE and Firemonkey</a>
		</h1>
		  <p class="small">Posted on 05 March 2014 by Andy</p>
		  <p><p>In that posting I want to write a little bit about my experience with the new Delphi and the Firemonkey Framework.</p>

<p>I am using Delphi for over 10 years now, mostly in my own <a href="http://www.da-software.de">small business</a>. The two main applications are over 10 years old now, the code base is very outdated. To be frank, most of the code was developed when I had not the experience as today. But the applications are working.</p>

<p>I tried to rewrite everything in Java with Eclipse RCP. Clean, shiny and platform independent, even with support for Linux!
I rewrote about 80% of the application, then I decided to throw it away and use the old code base instead, because I got the feeling the the remaining 20% would take me more time than the first 80% of the application. It was a big waste of time, but also a very good lesson learned. <a href="http://joelonsoftware.com/articles/fog0000000069.html">Never rewrite everything from scratch</a>. :-)</p>

<p>There are more issues with Java. You have to ship the JRE with the application if you don’t want to have your users install them by themselves. The JRE is about 100MB, getting bigger in each new version.</p>

<p>This might seem to not be be an issue today, but thats not true. It still makes a difference if the user has to download 100 megabytes or just 10. Especially if the users uses a mobile connection.</p>

<p>And Apple won’t let you in the Mac App Store if you use Java. </p>

<p>Don’t get me wrong, Java is great. In my main job I am writing Java / Eclipse RCP applications most of the day. Its great for big applications, with plugins, there are lot of components you can use. And you can find a lot of information on the internet. But if you are a small company and want to get stuff done fast and sell your software on the App Store, then Delphi can be a very good choice. Even if it costs money.</p>

<p>So I decided to return to Delphi. During the last releases of Delphi the Firemonkey framework was added. Firemonkey allows the creation of applications both for Windows and MacOS (no Linux). In the ads this all looks very shiny and when you ran the demo version it all looks good, it compiles and it runs on Windows and on the Mac.</p>

<p>And you can publish your apps to the App Store!!! Hooray.</p>

<p>Delphi still only runs on Windows. But you need a Mac to debug and deploy your applications on OSX. </p>

<p>To summarise, I don’t regret switching back to Delphi and Firemonkey. The code base is still a mess, but I plan to refactor each part at a time in the future. By the time the first application is ported, working and approved on the app store.</p>

<h2>Converting to Firemonkey</h2>

<p>Converting to a new Delphi version was never really a problem. I started with Delphi 6, moved to 7 and some years later to Delphi 2010. Usually upgrading a project means just open it. And if all components are installed the project is opened, you click the compile button and you are done. Its still true if you stay with the VCL, which is of course still part of Delphi. But the VCL only works on Windows.</p>

<p>If you want to switch to Firemonkey, well then … you have to start from scratch. Create a new project, recreate the GUI, copy over the code, wire it up and there you go. There is no converter shipped with Delphi itself. </p>

<p>But there is at least some hope: the Mida Converter. A third party tool which tries to convert the application to Firemonkey. It costs about 100 Dollars. It saves you a lot of work, as it converts all your VLC forms to Firemonkey forms. It works like 90%, there is still some manual work to do. Like there are now two combo boxes, one editable and one thats not. All of my combo boxes got replaced by the non editable one. You have to clean that up by yourself.</p>

<p>Before you start converting your application, I recommend to get rid of all third party components like Jedi VCL. These are not available for Firemonkey and are only causing trouble.</p>

<h2>Platforms</h2>

<p>Once you have created and converted your application to Firemonkey and it opens without any errors in the IDE, you are not done yet. I found out how many functions are platform dependant. You have to replace all calls to the WinApi. In my case these where mostly “ShellExecute”, “MessageBox&quot;, things that used the Windows registry, drag and drop and Windows specific functions, like getting the temporary directory.</p>

<p>For some things Firemonkey provides equivalents in the framework, which will work on both platforms. For some others you will have to write your own functions, with IFDEF commands for each platform. Its not much, but in the beginning it takes a lot time to find that out. The second application of mine was converted much quicker than the first. </p>

<p>You should also be aware of the fact, that Firemonkey does the rendering of its controls completely on its own. If a new version of OSX has a different look and feel, your application will look the same. That is not completely bad, you can change the look and feel of your app. Want to have some part of your application look like on Windows? No problem! But that also means that a Firemonkey application will always look some sort on alien.</p>

<h2>Bugs and Issues</h2>

<p>While the VCL is stable, aged and mature, Firemonkey is very new, with a lot of bugs. For example I found out, that Firemonkeys message dialogs where always displaying in english language on OSX. On Windows they worked perfectly. There are workarounds, so I wrote a class which just displays the native message box with my own internatioliziation. But all of that takes time. You need to find out that you are having an issue. Then find a workaround.</p>

<p>There are also sometimes glitches in the GUI and I had trouble get my application code signed as Apple changed the procedure in Mavericks.</p>

<p>Debugging OSX applications from the Windows machine over the network does not work most of the time. Thats a pain if you want to debug platform specific code.</p>

<p>Embarcadero is closing the issues, but usually they are fixed in the next version of Delphi. Which means that you will have to pay the update price to benefit from them. Depending on the amount of money you are making with your applications its not always worth the price.</p>

<h2>Missing stuff</h2>

<p>There are also components missing and not yet available. For example, there is no browser control, no HTML edit control. If you want to display and edit HTML content in your app, well thats not possible. </p>

<p>Want to display and edit rich text in your application. Not possible. Hopefully the situation will improve over time.</p>

<p>One big thing missing is the online help. Back in the good old days of Delphi 7, the online help system was really good. For every class, method and function there was a description in the help. Usually with examples how to use it.</p>

<p>With Firemonkey a lot of classes are still not documented. There is an online wiki where often no content is shown at all, instead you get a message that you should extend the topic so others can benefit. Not my job I&#39;d say.</p>

<p>Unfortunately it seems that not many people are using Delphi today. So its much harder to find information online. </p>

<h2>Conclusion</h2>

<p>Did I regret switching back to Delphi and Firemonkey? In short no. At first I had some trouble converting the application to Firemonkey and rewriting the platform dependant parts. There where also issues with bugs in Firemonkey which did cost me some time. But in the end I was able to solve most of the things. The update policy could also be improved. If bugs are fixed in the Firemonkey framework, they should be made available for older versions too. Paying hundread of Euros for a new release every year is too much for most small companies. </p>

<p>In the end I got the application working and its now approved for the app store and its selling. The application is a native application and the compiled version is not too big in size (around 10 MB for my normal application).</p>

<p>The second application was converted in several weeks. Once you know how to do it, you are getting things done very fast. In the end its still the good old delphi where you create your application, drop the controls onto your forms and implement the logic and get results very fast. </p>

<p>So I would also use Delphi and Firemonkey for new applications.</p>
</p>		
		  <p class="small">Tagged: Delphi and Firemonkey by Andy</p>
		  <hr>
		  
		
		<h1>
		  <a href="/raspberry/linux/2014/02/11/raspberry_pi_als_vpn_server_einrichten.html">VPN für mobile Geräte auf dem Raspberry PI einrichten</a>
		</h1>
		  <p class="small">Posted on 11 February 2014 by Andy</p>
		  <p><p>Ich hatte schon eine Weile mal vor, mir einen VPN-Server auf dem Raspberry Pi einzurichten. Zum einen will ich von unterwegs in irgendwelchen WLANs nicht unverschlüsselt kommunizieren und zum Anderen wird bei mobilen Internettarifen gern der ein oder andere Dienst blockiert. So funktioniert bei Congstar kein VOIP mit Skype. Richtet man hingegen ein VPN ein, funktioniert es, da der Anbieter nicht mehr in die Kommunikation reinschauen kann.</p>

<p>Bisher hatte ich den Dienst <a href="http://www.swissvpn.net/">SwissVPN</a> benutzt. Wer öfter unterwegs ist und regelmäßig einen VPN-Dienst benötigt fährt mit so einem Dienst besser, beim Home-VPN ist der Upload vom DSL ein limitierender Faktor. Außerdem geht damit Youtube. :-) Da ich geizig bin, will ich mir das Geld aber sparen und mein VPN-Server selbst betreiben.</p>

<p>Also los geht es: Wir gehen davon aus, dass auf dem RPI bereits ein Linux installiert ist, z.B. Raspbian. <a href="http://blog.ekiwi.de/?p=1757">Hier gibt es eine gute Anleitung</a> für die erste Einrichtung.</p>

<h2>PPTP</h2>

<p>Als VPN verwenden wir <a href="http://de.wikipedia.org/wiki/PPTP">PPTP</a>. Dieses wird praktischerweise auf dem iPhone, iPad und Co direkt unterstützt.</p>

<h2>Updates</h2>

<p>Zuerst updaten wir mal die Software auf unserem RPI:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo apt-get update
sudo apt-get upgrade
</code></pre></div>
<p>Das kann je nach Stand der Software eine Weile dauern.</p>

<h2>Installation und Konfiguration</h2>

<p>Die PPTP-Software installieren wir mit:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo apt-get install pptpd
</code></pre></div>
<p>Anschließend bearbeiten wir die Config mit Nano:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo nano /etc/pptpd.conf
</code></pre></div>
<p>Man kann alternativ auch VIM verwenden. Im Nano-Editor speichern wir mit STRG+X und anschließend Y.</p>

<p>In der &quot;pptdp.conf&quot; Datei tragen wir die lokale IP des Raspberry ein:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">localip 192.168.1.5
</code></pre></div>
<p>Außerdem die Remote-IP-Adressen. Diese werden unseren VPN-Clients zugeteilt. Hier vergibt man einen Adressbereich, je nachdem wieviele Geräte man plant zu nutzen:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">remoteip 192.168.1.234-238
</code></pre></div>
<p>Nach dem Speichern, konfigurieren wir jetzt die Optionen von PPTDP:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo nano /etc/ppp/pptpd-options
</code></pre></div>
<p>Am Ender Datei tragen wir folgende Zeilen ein:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">ms-dns 192.168.1.1
noipx
mtu 1490
mru 1490
</code></pre></div>
<p>Nach &quot;ms-dns&quot; muss ein gültiger DNS-Server eingetragen werden. In den meisten Fällen verwendet man hier die Adresse seines Routers oder man trägt einen <a href="http://www.ccc.de/de/censorship/dns-howto">öffentlichen DNS-Server</a> ein.</p>

<h3>Benutzer hinzufügen</h3>

<p>Nun noch die VPN-Benutzer hinzufügen; dazu bearbeiten wir die folgende Datei:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo nano /etc/ppp/chap-secrets
</code></pre></div>
<p>Das Anlegen von Benutzern ist sehr einfach:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Benutzername[TAB]*[TAB]Passwort[Tab]*
</code></pre></div>
<p>Beispiel:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Andy    *   GeheimesPasswort    *
</code></pre></div>
<p>Nach dem Bearbeiten muss der PPTP-Server neu gestartet werden:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo service pptpd restart
</code></pre></div>
<h2>Sonstige Konfiguration</h2>

<p>Wir wollen nicht nur auf den RPI zugreifen, sondern auch auf das Internet und sonstige Resourcen. Das richten wir jetzt ein:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo nano /etc/sysctl.conf
</code></pre></div>
<p>Hier tragen wir die folgende Zeile ein:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">net.ipv4.ip_forward=1
</code></pre></div>
<p>Die Änderung übernehmen wir mit:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo sysctl -p
</code></pre></div>
<h3>Firewall konfigurieren</h3>

<p>Zuletzt aktualisieren wir noch die Firewall des RPI:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
</code></pre></div>
<p>Bei mir kam an der Stelle die Fehlermeldung <code>iptables: Table does not exist (do you need to insmod?)</code>. Ein Neustart des RPI nach den Updates, vom Anfang, schaffte hier  Abhilfe. Wichtig: Dieser Befehl muss nach jedem Start des RPI neu ausgeführt werden. Also am Besten gleich einen Cronjob einrichten:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo crontab -e
</code></pre></div>
<p>Am Ende fügen wir die folgende Zeile ein:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">@reboot sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
</code></pre></div>
<p>Speichern und fertig.</p>

<h3>Portforwarding auf dem Router aktivieren</h3>

<p>PPTP verwendet den Port 1723. Damit der RPI Anfragen auf diesem Port entgegen nehmen kann, muss dieser vom Router weitergeleitet werden. Dazu loggen wir uns auf unserem Router ein und konfigurieren die Weiterleitung.</p>

<p>Hier für eine FritzBox:</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/02/vpn/vpn2.png" alt=""> </p>

<h3>Einrichten auf dem iPhone</h3>

<p>Die Einrichtung auf dem iPhone und anderen Geräten ist einfach. Zuerst gehen wir in die VPN-Einstellungen und legt ein neues VPN-Profil an:</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/02/vpn/vpn1.png" alt=""></p>

<p>PPTP auswählen, Servernamen, Benutzername und Passwort eingeben.</p>

<p>Als Servernamen gibt man den Servernamen oder die IP-Adresse seines Internetzugangs ein. Da die IP-Adresse bei einem DSL-Anschluss oft dynamisch ist, sollte man einen DynDNS-Dienst nutzen.</p>

<p>Das war es auch schon. Wenn alles korrekt konfiguriert ist, sollte die Verbindung nach dem Speichern funktionieren.</p>
</p>		
		  <p class="small">Tagged: RPI and VPN by Andy</p>
		  <hr>
		  
		
		<h1>
		  <a href="/coding/tools/2014/02/04/check_code_signing_of_osx_applications.html">Check code signing of applications on OSX</a>
		</h1>
		  <p class="small">Posted on 04 February 2014 by Andy</p>
		  <p><p>The last days I was busy signing my Delphi applications on my Mac. One version was signed with my Developer ID, the other one with the third party developer ID for the Mac App Store.</p>

<p>Maybe its all very easy if you use XCode for that, but I had my issues with Delphi, where I had to do many steps manually on the command line.</p>

<p>After the signing you usually want to check if the signature of the application is correct.</p>

<p>You can of course do that on the command line (if you have XCode installed):</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">codesign -dv /Applications/Awesome.app
</code></pre></div>
<p>but I also found a tool with a neat GUI: <a href="http://brockerhoff.net/RB/AppCheckerLite/">RB App Checker</a>.  </p>

<p>Its available for free on the <a href="https://itunes.apple.com/us/app/rb-app-checker-lite/id519421117?mt=12">Mac App Store</a>. </p>

<p>You just drag and drop the application on the tool and it shows you very detailed information of the signature.</p>

<p>It also checks entitlements, application receipts and requirements.</p>

<p><img src="http://andydunkel.net/assets/uploads/2014/02/rbappchecker/1.png" alt=""></p>
</p>		
		  <p class="small">Tagged: Code Signing and OSX by Andy</p>
		  <hr>
		  
		

    </div>
    <div class="col-md-3">    
    	<h4>Partnerlink</h4>
    	<a target="_blank" href="http://www.amazon.de/?_encoding=UTF8&camp=1638&creative=19454&linkCode=ur2&site-redirect=de&tag=ekiwide0b-21">Einkaufen bei Amazon.de</a><img src="https://www.assoc-amazon.de/e/ir?t=ekiwide0b-21&l=ur2&o=3" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />	
    	
    	<h4>Werbung</h4>
    	
    	<div align="left">
		<script type="text/javascript"><!--
		google_ad_client = "ca-pub-1137550895446814";
		/* andy.ekiwi.de */
		google_ad_slot = "3362068620";
		google_ad_width = 125;
		google_ad_height = 125;
		//-->
		</script>
		<script type="text/javascript"
		src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
		</script>
		</div>
		
		<h4>Links</h4>
    	<ul class="list-unstyled">
    		<li><a href="http://andydunkel.net/da.asc.zip">Andys PGP-Key</a></li>
    		<li><a href="https://github.com/andydunkel">Me on GitHub</a></li> 	
    		<li><a href="http://stackoverflow.com/users/285039/da">Me on StackOverflow</a></li>    			
    	</ul>
    	
    	<h4>Webseiten</h4>
    	<ul class="list-unstyled">
    		<li><a href="http://www.ekiwi.de">eKiwi.de</a></li>
    		<li><a href="http://ekiwi-blog.de">eKiwi.de Blog</a></li>
    		<li><a href="http://www.da-software.de">DA-Software.de</a></li>    		
    	</ul>
    	<h4>Categories</h4>    	
		<section>
		<ul id="categories" class="list-unstyled">
		<li class='category'><a href='/categories/ccc/'>ccc (1)</a></li>
<li class='category'><a href='/categories/coding/'>coding (27)</a></li>
<li class='category'><a href='/categories/computer/'>computer (7)</a></li>
<li class='category'><a href='/categories/delphi/'>delphi (9)</a></li>
<li class='category'><a href='/categories/eclipse/'>eclipse (26)</a></li>
<li class='category'><a href='/categories/firemonkey/'>firemonkey (3)</a></li>
<li class='category'><a href='/categories/fotos/'>fotos (5)</a></li>
<li class='category'><a href='/categories/gadgets/'>gadgets (25)</a></li>
<li class='category'><a href='/categories/hiking/'>hiking (9)</a></li>
<li class='category'><a href='/categories/html/'>html (1)</a></li>
<li class='category'><a href='/categories/ipad/'>ipad (6)</a></li>
<li class='category'><a href='/categories/ireland/'>ireland (7)</a></li>
<li class='category'><a href='/categories/java/'>java (23)</a></li>
<li class='category'><a href='/categories/jekyll/'>jekyll (2)</a></li>
<li class='category'><a href='/categories/katzen/'>katzen (4)</a></li>
<li class='category'><a href='/categories/kochen/'>kochen (2)</a></li>
<li class='category'><a href='/categories/lazarus/'>lazarus (2)</a></li>
<li class='category'><a href='/categories/linux/'>linux (12)</a></li>
<li class='category'><a href='/categories/mac/'>mac (3)</a></li>
<li class='category'><a href='/categories/meinung/'>meinung (3)</a></li>
<li class='category'><a href='/categories/minimalismus/'>minimalismus (1)</a></li>
<li class='category'><a href='/categories/mobilitaet/'>mobilitaet (15)</a></li>
<li class='category'><a href='/categories/objectivec/'>objectivec (1)</a></li>
<li class='category'><a href='/categories/opensource/'>opensource (1)</a></li>
<li class='category'><a href='/categories/osx/'>osx (1)</a></li>
<li class='category'><a href='/categories/programmierung/'>programmierung (1)</a></li>
<li class='category'><a href='/categories/radfahren/'>radfahren (31)</a></li>
<li class='category'><a href='/categories/raspberry/'>raspberry (3)</a></li>
<li class='category'><a href='/categories/repair/'>repair (1)</a></li>
<li class='category'><a href='/categories/reparatur/'>reparatur (4)</a></li>
<li class='category'><a href='/categories/retrotrip/'>retrotrip (1)</a></li>
<li class='category'><a href='/categories/rezepte/'>rezepte (1)</a></li>
<li class='category'><a href='/categories/science/'>science (3)</a></li>
<li class='category'><a href='/categories/sonstiges/'>sonstiges (43)</a></li>
<li class='category'><a href='/categories/swt/'>swt (4)</a></li>
<li class='category'><a href='/categories/tools/'>tools (23)</a></li>
<li class='category'><a href='/categories/umwelt/'>umwelt (16)</a></li>
<li class='category'><a href='/categories/webdesign/'>webdesign (2)</a></li>
<li class='category'><a href='/categories/webseiten/'>webseiten (1)</a></li>
<li class='category'><a href='/categories/windows/'>windows (6)</a></li>
<li class='category'><a href='/categories/xcode/'>xcode (1)</a></li>

		</ul>
		</section>
   </div>
</div>

<h2>Blog Posts</h2>


<!-- Pagination links -->
<div class="pagination">
  
    <a href="/page12" class="previous">Previous</a>
  
  <span class="page_number ">Page: 13 of 51</span>
  
    <a href="/page14" class="next">Next</a>
  
</div>


    </div>
    
<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);

  (function() {
    var u=(("https:" == document.location.protocol) ? "https" : "http") + "://piwik.ekiwi.de/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "2"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
    g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Piwik Code -->

    </body>
</html>
